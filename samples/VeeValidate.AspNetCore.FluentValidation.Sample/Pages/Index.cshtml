@page
@model FluentValidation.Sample.Pages.IndexModel
@{
    ViewData["Title"] = "Home page";
}
<h1>Validation Rules</h1>
<ul>
    <li>
        <a href="#compare-attribute">[Compare]</a>
    </li>
    <li>
        <a href="#credit-card-attribute">[CreditCard]</a>
    </li>
    <li>
        <a href="#email-address-attribute">[EmailAddress]</a>
    </li>
    <li>
        <a href="#range-attribute">[Range]</a>
    </li>
    <li>
        <a href="#matches-rule">Matches</a>
    </li>
    <li>
        <a href="#not-empty-rule">NotEmpty</a>
    </li>
    <li>
        <a href="#max-length-attribute">[MaxLength]</a>
    </li>
    <li>
        <a href="#min-length-attribute">[MinLength]</a>
    </li>
    <li>
        <a style="text-decoration: line-through">[Phone]</a>
    </li>
    <li>
        <a href="#string-length-attribute">[StringLength]</a>
    </li>
</ul>

<div id="app">  
    <div asp-validation-summary="All" v-cloak></div>

    <form v-on:submit.prevent="submit" novalidate>
        <div>
            <h2 id="compare-attribute">[Compare]</h2>
            <p>Caveat: Tou need to add the ref attribute to the field you're comparing against.</p>
            <div class="input-field">
                <input asp-for="Compare" ref="Compare" />
                <label asp-for="Compare"></label>
                <span asp-validation-for="Compare"></span>
            </div>
            <div class="input-field">
                <input asp-for="Confirm" />
                <label asp-for="Confirm"></label>
                <span asp-validation-for="Confirm"></span>
            </div>
        </div>
        <div>
            <h2 id="credit-card-attribute">[CreditCard]</h2>
            <div class="input-field">
                <input asp-for="CreditCard" />
                <label asp-for="CreditCard"></label>
                <span asp-validation-for="CreditCard"></span>
            </div>
        </div>
        <div>
            <h2 id="email-address-attribute">[EmailAddress]</h2>
            <div class="input-field">
                <input asp-for="EmailAddress" />
                <label asp-for="EmailAddress"></label>
                <span asp-validation-for="EmailAddress"></span>
            </div>
        </div>
        <div>
            <h2 id="range-attribute">[Range]</h2>
            <p>Enter a number between 1 and 10:</p>
            <div class="input-field">
                <input asp-for="Range" />
                <label asp-for="Range"></label>
                <span asp-validation-for="Range"></span>
            </div>
            <p>Select a date in December 2018:</p>
            <div class="input-field">
                <input asp-for="DateRange" v-date data-vv-validate-on="change" />
                <label asp-for="DateRange"></label>
                <span asp-validation-for="DateRange"></span>
            </div>
        </div>
        <div>
            <h2 id="matches-rule">Matches</h2>
            <p>Enter capital letters and numbers only:</p>
            <div class="input-field">
                <input asp-for="Matches" />
                <label asp-for="Matches"></label>
                <span asp-validation-for="Matches"></span>
            </div>
        </div>
        <div>
            <h2 id="not-empty-rule">NotEmpty</h2>
            <div class="input-field">
                <input asp-for="NotEmpty" />
                <label asp-for="NotEmpty"></label>
                <span asp-validation-for="NotEmpty"></span>
            </div>
        </div>
        <div>
            <h2 id="max-length-attribute">[MaxLength]</h2>
            <p>Enter up to 6 characters:</p>
            <div class="input-field">
                <input asp-for="MaxLength" />
                <label asp-for="MaxLength"></label>
                <span asp-validation-for="MaxLength"></span>
            </div>
        </div>
        <div>
            <h2 id="min-length-attribute">[MinLength]</h2>
            <p>Enter at least 3 characters:</p>
            <div class="input-field">
                <input asp-for="MinLength" />
                <label asp-for="MinLength"></label>
                <span asp-validation-for="MinLength"></span>
            </div>
        </div>
        <button type="submit" class="btn waves-effect">Validate</button>
    </form>
</div>

@section Scripts{
    <script src="~/js/directives/date.js"></script>
    <script>
        new Vue({
            el: "#app",
            methods: {
                submit: function () {
                    this.$validator.validateAll()
                        .then(function (result) {
                            if (result) {
                                M.toast({ html: 'Passed Validation', classes: 'green' });
                            } else {
                                M.toast({ html: 'Validation Failed!', classes: 'red' });
                            }
                        });
                }
            }
        })
    </script>
}